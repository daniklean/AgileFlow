image: node:alpine

stages:
  - deploy

deploy_application:
  stage: deploy
  before_script:
    - npm install
    - npm run build
    - chmod +x ./ci/deploy_script.sh
  script:
    - echo "Imprime el directorio actual:"
    - pwd
    - echo "Contenido de Package.json:"
    - cat package.json
    - echo "Contenido de ci/deploy_script.sh:"
    - cat ./ci/deploy_script.sh
    - echo "Desplegando la aplicaci√≥n"
    - ./ci/deploy_script.sh
  only:
    - main
